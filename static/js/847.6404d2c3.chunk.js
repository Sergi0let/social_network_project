"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[847],{4847:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var a=e(8683),i=e(5671),n=e(3144),r=e(136),o=e(516),u=e(2791),l=e(7781),c=e(8687),d=e(7689),p=e(2026),f=e(184),h=function(t){(0,r.Z)(e,t);var s=(0,o.Z)(e);function e(){var t;(0,i.Z)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){return t.setState({status:s.target.value})},t}return(0,n.Z)(e,[{key:"componentDidUpdate",value:function(t){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){var t=this.state,s=t.editMode,e=t.status;return(0,f.jsxs)("div",{children:[!s&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"No STATUS"})}),s&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:this.deactivateEditMode,type:"text",value:e,onChange:this.onStatusChange})})]})}}]),e}(u.Component),x=h,v=e(4353),m="Profile_profile__7iquG",j="Profile_profileWrapper__ESVWg",g="Profile_profileContent__-KmxD",_="Profile_profileText__287B0",P=function(t){var s=t.profile,e=t.updateStatus,a=t.status;return s?(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:s.photos.large||v,alt:"Profile user"})}),(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("div",{className:_,children:s.fullName}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("span",{children:"My id: "}),s.userId]}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("span",{children:"aboutMe: "}),s.aboutMe]}),(0,f.jsxs)("div",{className:_,children:["My email: ",s.contacts.email]}),(0,f.jsxs)("div",{className:_,children:["Facebook: ",s.contacts.facebook]}),(0,f.jsxs)("div",{className:_,children:["instagram: ",s.contacts.instagram]}),(0,f.jsx)("div",{className:_,children:s.lookingForAJob}),(0,f.jsx)("div",{className:_,children:s.lookingForAJobDescription})]}),(0,f.jsx)(x,{status:a,updateStatus:e})]}):(0,f.jsx)(p.Z,{})},S="Post_item__V-X0T",k=function(t){return(0,f.jsxs)("div",{className:S,children:[(0,f.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/1052/2158/products/55519_ATLA_AangAirBending_POP_GLAM-WEB_-_Copy.png?v=1638480833",alt:"avatar"}),t.message,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"Like "}),"".concat(t.like?t.like:"0")]})]},t.id)},N={postsText:"MyPosts_postsText__ILEmW"},Z=e(6139),A=e(704),M=e(9794),y=e(9501),b=(0,M.D)(10),T=function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,className:N.postsText,children:[(0,f.jsx)(Z.Z,{component:y.gx,placeholder:"write you post",name:"newPostText",validate:[M.l,b]}),(0,f.jsx)("button",{children:"Add post"})]})};T=(0,A.Z)({form:"ProfileAddNewPostForm"})(T);var C=u.memo((function(t){var s=t.posts.map((function(t){return(0,f.jsx)(k,{id:t.id,message:t.message,like:t.likesCout},t.id)}));return(0,f.jsxs)("div",{className:N.postsBlock,children:["My posts",(0,f.jsx)(T,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,f.jsx)("div",{className:N.posts,children:s})]})})),w=e(6508),D=(0,c.$j)((function(t){return{posts:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){return t((0,w.Wl)(s))}}}))(C),E=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)(P,{profile:s,status:e,updateStatus:a}),(0,f.jsx)(D,{})]})},U=e(8277),F=function(t){(0,r.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props,s=t.getUserProfile,e=t.getStatus,a=t.authorizedUserId,i=t.router.params.profileId;i||(i=a),s(i),e(i)}},{key:"render",value:function(){var t=this.props,s=t.profile,e=t.updateStatus,i=t.status;return(0,f.jsx)(E,(0,a.Z)((0,a.Z)({},this.props),{},{profile:s,updateStatus:e,status:i}))}}]),e}(u.Component);var I=(0,l.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:w.et,getStatus:w.lR,updateStatus:w.Nf}),(function(t){return function(s){var e=(0,d.TH)(),i=(0,d.s0)(),n=(0,d.UO)();return(0,f.jsx)(t,(0,a.Z)((0,a.Z)({},s),{},{router:{location:e,navigate:i,params:n}}))}}),U.Z)(F)},8277:function(t,s,e){var a=e(8683),i=(e(2791),e(8687)),n=e(7689),r=e(184),o=function(t){return{isAuth:t.auth.isAuth}};s.Z=function(t){return(0,i.$j)(o)((function(s){return s.isAuth?(0,r.jsx)(t,(0,a.Z)({},s)):(0,r.jsx)(n.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=847.6404d2c3.chunk.js.map